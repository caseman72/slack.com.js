(function(b){b.fn.emoticonize=function(e){var f=b.extend({},b.fn.emoticonize.defaults,e),d=":-),:o),:c),:^),:-D,:-(,:-9,;-),:-P,:-p,:-\u00de,:-b,:-O,:-/,:-X,:-#,:'(,B-),8-),;*(,:-*,:-\\,?-),: ),: ],= ],= ),8 ),: },: D,8 D,X D,x D,= D,: (,: [,: {,= (,; ),; ],; D,: P,: p,= P,= p,: b,: \u00de,: O,8 O,: /,= /,: S,: #,: X,B ),: |,: \\,= \\,: *,: &gt;,: &lt;".split(","),h=":) :] =] =) 8) :} :D :( :[ :{ =( ;) ;] ;D :P :p =P =p :b :\u00de :O :/ =/ :S :# :X B) :| :\\ =\\ :* :&gt; :&lt;".split(" "),g={"&gt;:)":{cssClass:"red-emoticon small-emoticon spaced-emoticon"},
"&gt;;)":{cssClass:"red-emoticon small-emoticon spaced-emoticon"},"&gt;:(":{cssClass:"red-emoticon small-emoticon spaced-emoticon"},"&gt;: )":{cssClass:"red-emoticon small-emoticon"},"&gt;; )":{cssClass:"red-emoticon small-emoticon"},"&gt;: (":{cssClass:"red-emoticon small-emoticon"},";(":{cssClass:"red-emoticon spaced-emoticon"},"&lt;3":{cssClass:"pink-emoticon counter-rotated"},O_O:{cssClass:"no-rotate"},o_o:{cssClass:"no-rotate"},"0_o":{cssClass:"no-rotate"},O_o:{cssClass:"no-rotate"},T_T:{cssClass:"no-rotate"},
"^_^":{cssClass:"no-rotate"},"O:)":{cssClass:"small-emoticon spaced-emoticon"},"O: )":{cssClass:"small-emoticon"},"8D":{cssClass:"small-emoticon spaced-emoticon"},XD:{cssClass:"small-emoticon spaced-emoticon"},xD:{cssClass:"small-emoticon spaced-emoticon"},"=D":{cssClass:"small-emoticon spaced-emoticon"},"8O":{cssClass:"small-emoticon spaced-emoticon"},"[+=..]":{cssClass:"no-rotate nintendo-controller"}};e=RegExp("(\\)|\\(|\\*|\\[|\\]|\\{|\\}|\\||\\^|\\<|\\>|\\\\|\\?|\\+|\\=|\\.)","g");for(var a=
d.length-1;0<=a;--a)d[a]=d[a].replace(e,"\\$1"),d[a]=RegExp("(^|[\\s\\0])("+d[a]+")","g");for(a=h.length-1;0<=a;--a)h[a]=h[a].replace(e,"\\$1"),h[a]=RegExp("(^|[\\s\\0])("+h[a]+")","g");for(var c in g)g[c].regexp=c.replace(e,"\\$1"),g[c].regexp=RegExp("(^|[\\s\\0])("+g[c].regexp+")","g");c="span.css-emoticon";f.exclude&&(c+=","+f.exclude);var k=c.split(",");return this.not(c).each(function(){var a=b(this),c="css-emoticon";f.animate&&(c+=" un-transformed-emoticon animated-emoticon");for(var e in g)specialCssClass=
c+" "+g[e].cssClass,a.html(a.html().replace(g[e].regexp,"$1<span class='"+specialCssClass+"'>$2</span>"));b(d).each(function(){a.html(a.html().replace(this,"$1<span class='"+c+"'>$2</span>"))});b(h).each(function(){a.html(a.html().replace(this,"$1<span class='"+c+" spaced-emoticon'>$2</span>"))});b.each(k,function(c,d){a.find(b.trim(d)+" span.css-emoticon").each(function(){b(this).replaceWith(b(this).text())})});f.animate&&setTimeout(function(){b(".un-transformed-emoticon").removeClass("un-transformed-emoticon")},
f.delay)})};b.fn.unemoticonize=function(e){var f=b.extend({},b.fn.emoticonize.defaults,e);return this.each(function(){b(this).find("span.css-emoticon").each(function(){var d=b(this);f.animate?(d.addClass("un-transformed-emoticon"),setTimeout(function(){d.replaceWith(d.text())},f.delay)):d.replaceWith(d.text())})})};b.fn.emoticonize.defaults={animate:!0,delay:500,exclude:"pre,code,.no-emoticons"}})(jQuery);
